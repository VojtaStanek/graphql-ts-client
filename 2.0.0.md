# Polymorphism query and fragment are supported since version 2.0.0

## Polymorphism query

GraphQL support polymorphism query, for example, look this schema
```
interface Widget {
    id: UUID!
}
interface UiWidget implements Widget {
    span: Span
    ... ...
}
interface Composite implements UiWidget & Widget {
    ... ...
}
type Tabs implements UiWidget & Widget {
    panes: [TabPane!]!
    ... ...
}
type TabPane implements Composite & UiWidget & Widget {
    title: String!,
    ... ...
}

``` 

You can execute the polymorphism query like this

![ImageText](https://github.com/babyfish-ct/graphql-ts-client/blob/master/polymorphism-query.gif)

## Fragment

Declare a fragment
```
const FRAGMENT = 
     employee$
     .firstName
     .lastName;
```

#### inline fragment

```
const employees = await findEmployeesByDepartmentId(

    "58bf0489-6a6f-4a9a-8694-fc248225f842",

    employee$
    .gender
    .on(FRAGMENT)
);
```
The graphql request is 
```
query($departmentId: UUID!){
    findEmployeesByDeparmentId(departmentId: $departmentId) {
        gender
        firstName
        lastName
    }
}
```

#### real fragment

```
const employees = await findEmployeesByDepartmentId(

    "58bf0489-6a6f-4a9a-8694-fc248225f842",
    employee$
    .gender
    .on(FRAGMENT, "MyFragment")
);
```
The graphql request is 
```
query($departmentId: UUID!){
    findEmployeesByDeparmentId(departmentId: $departmentId) {
        gender
        ...MyFragment
    }
}
fragment MyFragment on Employee {
    firstName
    lastName
}
```

____________________

[Back to home](https://github.com/babyfish-ct/graphql-ts-client)