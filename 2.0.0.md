# Polymorphism query and fragment are supported since version 2.0.0

## Polymorphism query

GraphQL support polymorphism query, for example, look this schema
```
interface Widget {
    id: UUID!
}
interface UiWidget implements Widget {
    span: Span
    ... ...
}
interface Composite implements UiWidget & Widget {
    ... ...
}
type Tabs implements UiWidget & Widget {
    panes: [TabPane!]!
    ... ...
}
type TabPane implements Composite & UiWidget & Widget {
    title: String!,
    ... ...
}

``` 

You can execute the polymorphism query like this
![ImageText](https://github.com/babyfish-ct/graphql-ts-client/blob/master/polymorphism-query.gif)

## Fragment

Let's comparate the graphql requests generated by fetchers with/without fragments.

1. Reuse fetcher without fragment

```
const REUSEABLE_FETCHER = 
     employee$
     .firstName
     .lastName;
const employees = findEmployeesByDepartmentId(
    "58bf0489-6a6f-4a9a-8694-fc248225f842",
    employee$
    .gender
    .on(REUSEABLE_FETCHER)
);
```
The graphql request is 
```
query($departmentId: UUID!){
    findEmployeesByDeparmentId(departmentId: $departmentId) {
        gender
        firstName
        lastName
    }
}
```

2. Reuse fetcher with fragment

```
const REUSEABLE_FETCHER = 
     employee$
     .firstName
     .lastName
     .asFragment("resuseableFragment");
const employees = findEmployeesByDepartmentId(
    "58bf0489-6a6f-4a9a-8694-fc248225f842",
    employee$
    .gender
    .on(REUSEABLE_FETCHER)
);
```
The graphql request is 
```
query($departmentId: UUID!){
    findEmployeesByDeparmentId(departmentId: $departmentId) {
        gender
        ...resuseableFragment
    }
}
fragment resuseableFragment on Employee {
    firstName
    lastName
}
```